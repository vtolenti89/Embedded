Version 4
SHEET 1 1288 680
WIRE 304 144 240 144
WIRE 416 144 304 144
WIRE 448 144 416 144
WIRE 592 144 576 144
WIRE 672 144 592 144
WIRE 1056 144 672 144
WIRE 112 176 16 176
WIRE 416 176 416 144
WIRE 448 176 416 176
WIRE 1056 192 1056 144
WIRE 1088 192 1056 192
WIRE 1184 192 1152 192
WIRE 16 208 16 176
WIRE 272 208 240 208
WIRE 1184 240 1184 192
WIRE 1216 240 1184 240
WIRE 1232 240 1216 240
WIRE 272 288 272 208
WIRE 1088 288 1056 288
WIRE 1184 288 1184 240
WIRE 1184 288 1152 288
WIRE 16 304 16 288
WIRE 1056 320 1056 288
WIRE 1232 320 1232 240
WIRE 592 352 592 144
WIRE 608 352 592 352
WIRE 800 352 736 352
WIRE 848 352 800 352
WIRE 880 352 848 352
WIRE 1056 352 1056 320
WIRE 1056 352 1008 352
WIRE 592 384 592 352
WIRE 608 384 592 384
WIRE 848 384 848 352
WIRE 880 384 848 384
WIRE 800 416 800 352
WIRE 1232 496 1232 400
WIRE 800 512 800 480
FLAG 272 288 0
FLAG 16 304 0
FLAG 304 144 SP_out
FLAG 800 512 0
FLAG 1216 240 5Vout
FLAG 1232 496 0
FLAG 672 144 buck_out
FLAG 1056 320 boost_out
FLAG 800 352 cap_out
SYMBOL SolarCell 176 176 R0
SYMATTR InstName X1
SYMBOL current 16 288 R180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Isc
SYMATTR Value 160m
SYMBOL 5V0_BUCK 512 144 R0
SYMATTR InstName X2
SYMBOL BAT_CHARGER 672 352 R0
SYMATTR InstName X3
SYMBOL cap 784 416 R0
SYMATTR InstName C1
SYMATTR Value 10m
SYMBOL 5V0_BOOST 944 352 R0
SYMATTR InstName X4
SYMBOL diode 1088 208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value idealD
SYMBOL diode 1088 304 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value idealD
SYMBOL res 1216 304 R0
SYMATTR InstName R1
SYMATTR Value 1k
TEXT -48 328 Left 2 !.tran 3m startup uic
TEXT -32 56 Left 2 ;Max current is 160mA
TEXT 888 72 Left 2 !.model idealD D(ron=0)
